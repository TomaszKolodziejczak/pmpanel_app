(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(23),r=a.n(c),s=a(13),i=a(14),o=a(16),l=a(15),d=a(5),j=a(3),u=a(2),b=a(20),p=a(38),h=a(11),m=a(6),O=a.n(m),f="USER_LOADED",x="USER_LOADING",g="AUTH_ERROR",v="LOGIN_SUCCESS",y="LOGIN_FAIL",N="LOGOUT_SUCCESS",_="REGISTER_SUCCESS",w="REGISTER_FAIL",E=function(e){var t=e().auth.token,a={headers:{"Content-Type":"application/json"}};return t&&(a.headers.Authorization="Token ".concat(t)),a},S="ADD_COMMENT",C="DELETE_COMMENT",D="EDIT_COMMENT",k="EDIT_COMMENT",T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return t.payload;case S:return[].concat(Object(h.a)(e),[t.payload]);case D:return e.map((function(e){return e.id!==t.payload.id?e:{text:t.payload.text,projectID:e.projectID,id:e.id}}));case C:return e.filter((function(e){return e.id!==t.payload.id}));default:return console.warn("Com - Unknown action type: ".concat(t.type)),e}},L="ADD_PROJECT",A="EDIT_PROJECT",I="DELETE_PROJECT",R="GET_PROJECTS",U=function(){return function(e,t){O.a.get("/api/",E(t)).then((function(t){e({type:R,payload:t.data})})).catch((function(e){return console.log(e)}))}},P=[],G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return t.payload;case L:return[].concat(Object(h.a)(e),[t.payload]);case A:return e.map((function(e){if(e.project_id!==t.payload.project_id)return e;var a=t.payload;return{project_name:a.project_name,start_date:a.start_date,end_date:a.end_date,status:a.status,description:a.description,participants:a.participants,project_id:e.project_id}}));case I:return e.filter((function(e){return e.project_id!==t.payload.project_id}));default:return console.warn("Pro - Unknown action type: ".concat(t.type)),e}},z="ADD_USER",M="DELETE_USER",F="EDIT_USER",J="GET_USERS",W=function(){return function(e,t){O.a.get("/users/auth/users",E(t)).then((function(t){e({type:J,payload:t.data})})).catch((function(e){return console.log(e)}))}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return t.payload;case z:return[].concat(Object(h.a)(e),[t.payload]);case F:return e.map((function(e){if(e.user_id!==t.payload.user_id)return e;var a=t.payload;return{first_name:a.first_name,last_name:a.last_name,email:a.email,sex:a.sex,phone:a.phone,user_id:e.user_id}}));case M:return e.filter((function(e){return e.user_id!==t.payload.user_id}));default:return console.warn("User - Unknown action type: ".concat(t.type)),e}},B=a(4),q={token:localStorage.getItem("token"),isAuthenticated:null,isLoading:!1,user:null},K=Object(b.b)({comments:T,projects:G,users:X,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(B.a)(Object(B.a)({},e),{},{isLoading:!0});case f:return Object(B.a)(Object(B.a)({},e),{},{isAuthenticated:!0,isLoading:!1,user:t.payload});case v:case _:return localStorage.setItem("token",t.payload.token),Object(B.a)(Object(B.a)(Object(B.a)({},e),t.payload),{},{isAuthenticated:!0,isLoading:!1});case g:case y:case N:case w:return localStorage.removeItem("token"),Object(B.a)(Object(B.a)({},e),{},{token:null,user:null,isAuthenticated:!1,isLoading:!1});default:return e}}});window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__();var V=[p.a],H="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||b.c,Y=Object(b.d)(K,{},H(b.a.apply(void 0,V))),$=a(12),Q=a(39),Z=a.n(Q),ee=a(0),te=function(e){var t=e.project_name,a=void 0===t?"":t,c=e.start_date,r=void 0===c?(new Date).toISOString().split("T")[0]:c,s=e.end_date,i=void 0===s?(new Date).toISOString().split("T")[0]:s,o=e.status,l=void 0===o?"0":o,d=e.description,b=void 0===d?"":d,p=e.participants,h=void 0===p?[]:p,m=e.id,f=e.callback;Object(n.useEffect)((function(){g(W())}),[]);var x=Object(u.d)((function(e){return e.users})),g=Object(u.c)(),v=Object(j.g)(),y=Object(n.useState)(a),N=Object($.a)(y,2),_=N[0],w=N[1],S=Object(n.useState)(r),C=Object($.a)(S,2),D=C[0],k=C[1],T=Object(n.useState)(i),I=Object($.a)(T,2),R=I[0],U=I[1],P=Object(n.useState)(l),G=Object($.a)(P,2),z=G[0],M=G[1],F=Object(n.useState)(b),J=Object($.a)(F,2),X=J[0],B=J[1],q=Object(n.useState)(h),K=Object($.a)(q,2),V=K[0],H=K[1];return Object(ee.jsx)("div",{className:"container",style:{maxWidth:400,alignContent:"center"},children:Object(ee.jsx)("div",{className:"card",style:{margin:15},children:Object(ee.jsxs)("div",{className:"card-body bg-light",children:[Object(ee.jsx)("i",{children:"Enter data below:"}),Object(ee.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={project_name:_,id:m,start_date:D,end_date:R,status:Number(z),description:X,participants:V};w(""),k(new Date),U(new Date),M("0"),H([]),B(""),g(m?function(e){var t=e.project_name,a=e.start_date,n=e.end_date,c=e.status,r=e.description,s=e.created_date,i=e.last_modified,o=e.participants,l=e.id;return function(e,d){O.a.put("/api/update/".concat(l),{project_name:t,start_date:a,end_date:n,status:c,description:r,created_date:s,last_modified:i,participants:o},E(d)).then((function(t){e({type:A,payload:t.data})})).catch((function(e){return console.log(e)}))}}(t):function(e){var t=e.project_name,a=e.start_date,n=e.end_date,c=e.status,r=e.description,s=e.created_date,i=e.last_modified,o=e.participants,l=e.author;return function(e,d){O.a.post("/api/create",{project_name:t,start_date:a,end_date:n,status:c,description:r,created_date:s,last_modified:i,participants:o,author:l},E(d)).then((function(t){e({type:L,payload:t.data})})).catch((function(e){return console.log(e)}))}}(t)),m&&(f(),alert("Project has been changed."),v.goBack()),v.push("/projects")},children:[Object(ee.jsxs)("div",{className:"input-group mb-3",children:[Object(ee.jsx)("span",{className:"input-group-text",id:"inputGroup-sizing-default",children:"Project name"}),Object(ee.jsx)("input",{className:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default",onChange:function(e){return w(e.target.value)},type:"text",value:_,placeholder:_||"Enter project name here",required:!0})]}),Object(ee.jsxs)("div",{className:"input-group mb-3",children:[Object(ee.jsx)("span",{className:"input-group-text",id:"inputGroup-sizing-default",children:"Start date"}),Object(ee.jsx)("input",{className:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default",onChange:function(e){return k(e.target.value)},type:"date",value:D,placeholder:D||new Date,required:!0})]}),Object(ee.jsxs)("div",{className:"input-group mb-3",children:[Object(ee.jsx)("span",{className:"input-group-text",id:"inputGroup-sizing-default",children:"End date"}),Object(ee.jsx)("input",{className:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default",onChange:function(e){return U(e.target.value)},type:"date",value:R,placeholder:R||new Date,required:!0})]}),Object(ee.jsxs)("div",{className:"input-group mb-3",children:[Object(ee.jsx)("span",{className:"input-group-text",id:"inputGroup-sizing-default",children:"Project description"}),Object(ee.jsx)("input",{className:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default",onChange:function(e){return B(e.target.value)},type:"text",value:X,rows:"3",cols:"30",placeholder:X||"Enter project description here",required:!0})]}),Object(ee.jsx)("div",{children:Object(ee.jsxs)("label",{style:{margin:10},children:["Status",Object(ee.jsxs)("select",{className:"form-select","aria-label":"multiple select example",onChange:function(e){return M(e.target.value)},value:z,placeholder:z||"0",children:[Object(ee.jsx)("option",{value:"0",children:"New"}),Object(ee.jsx)("option",{value:"1",children:"Kickoff Meeting"}),Object(ee.jsx)("option",{value:"2",children:"Ongoing"}),Object(ee.jsx)("option",{value:"3",children:"Last Fixes"}),Object(ee.jsx)("option",{value:"4",children:"Finished"})]})]})}),Object(ee.jsx)("div",{children:Object(ee.jsxs)("label",{className:"form-group",children:["Co-workers",Object(ee.jsx)("select",{className:"form-select","aria-label":"multiple select example",names:"participantsIds",id:"participantsIds",type:"text",placeholder:V,onChange:function(){var e=(Z()("#participantsIds").val()||[]).map((function(e){return Number(e)}));H(e)},multiple:!0,children:x.map((function(e){return Object(ee.jsxs)("option",{value:e.id,children:[e.first_name,", ",e.email]},e.id)}))})]})}),Object(ee.jsx)("button",{type:"submit",style:{margin:10},className:"btn btn-primary",href:"/",children:m?"Update":"Add new project"})]})]})})})},ae=function(){var e=Object(j.g)();return Object(ee.jsx)("button",{style:{margin:10},className:"btn btn-dark",onClick:function(){return e.goBack()},children:Object(ee.jsx)("i",{className:"fas fa-undo",children:" Back "})})},ne=function(e){var t=e.text,a=e.id,c=e.created_date,r=e.author,s=e.projectID;Object(n.useEffect)((function(){l(W())}),[]),Object(n.useEffect)((function(){l(U())}),[]);for(var i=Object(u.d)((function(e){return e.users})),o=Object(u.d)((function(e){return e.projects})),l=Object(u.c)(),d=new Date(c).toLocaleString(),j="",b=Object(h.a)(i),p=0;p<b.length;p++)if(b[p].id===r){console.log("trafione"),j=b[p].first_name;break}for(var m="",O=Object(h.a)(o),f=0;f<O.length;f++)if(O[f].id===s){m=O[f].author;break}var x=r===m;return Object(ee.jsx)("div",{children:Object(ee.jsx)("li",{style:{textDecoration:"none",fontSize:12,fontStyle:"italic",listStyleType:"none"},children:Object(ee.jsxs)("p",{children:[Object(ee.jsxs)("strong",{style:x?{color:"green"}:null,children:[t," "]}),Object(ee.jsxs)("i",{children:["(",d," by ",j,")  "]})]})},a)})},ce=function(e){var t=e.id,a=Object(u.c)(),c=Object(u.d)((function(e){return e.comments}));Object(n.useEffect)((function(){a((function(e,t){O.a.get("/comments/",E(t)).then((function(t){e({type:k,payload:t.data})})).catch((function(e){return console.log(e)}))}))}),[]);var r=c.sort((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Date.parse(t.created_date)-Date.parse(e.created_date)})).map((function(e){return Object(ee.jsx)(ne,Object(B.a)({},e),e.id)})).filter((function(e){return e.props.projectID===t}));return Object(ee.jsx)("ul",{children:r})},re=function(e){var t=e.text,a=void 0===t?"":t,c=e.projectID,r=Object(n.useState)(a),s=Object($.a)(r,2),i=s[0],o=s[1],l=Object(u.c)();return Object(ee.jsx)("div",{className:"container",style:{margin:15},children:Object(ee.jsxs)("div",{className:"row align-items-center",children:[Object(ee.jsx)("div",{className:"col"}),Object(ee.jsx)("div",{className:"col-5",children:Object(ee.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),i.length){var t={text:i,projectID:c};o(""),l(function(e){var t=e.text,a=e.projectID,n=e.author;return function(e,c){console.log(n),O.a.post("/comments/create",{text:t,projectID:a,author:n},E(c)).then((function(t){e({type:S,payload:t.data})})).catch((function(e){return console.log(e)}))}}(t))}},style:{display:"inline",maxWidth:200},children:[Object(ee.jsx)("div",{className:"input-group mb-3",children:Object(ee.jsx)("input",{type:"text",onChange:function(e){return o(e.target.value)},value:i,className:"form-control",placeholder:"Enter your comment here","aria-describedby":"button-addon1"})}),Object(ee.jsxs)("button",{className:"btn btn-outline-primary",children:[Object(ee.jsx)("i",{className:"fas fa-plus-circle",children:" Add comment"})," "]})]})}),Object(ee.jsx)("div",{className:"col"})]})})},se=function(e){var t=e.project_name,a=e.start_date,c=e.end_date,r=e.status,s=e.description,i=e.participants,o=e.id,l=e.author,d=Object(u.c)();Object(n.useEffect)((function(){d(W())}),[]);var b=Object(u.d)((function(e){return e.users})),p=Object(h.a)(b),m=Object(h.a)(i),f=[];m.forEach((function(e){return p.map((function(t){t.id===e&&f.push("".concat(t.first_name,", "))}))}));for(var x="",g=0;g<p.length;g++)if(p[g].id===l){x=p[g].first_name;break}var v=Object(n.useState)(!1),y=Object($.a)(v,2),N=y[0],_=y[1],w=Object(j.g)(),S=function(){return _((function(e){return!e}))},C=N?Object(ee.jsx)(te,{project_name:t,start_date:a,end_date:c,status:r,description:s,participants:i,id:o,author:l,callback:S}):Object(ee.jsx)("button",{style:{margin:10},className:"btn btn-primary",onClick:S,children:"Update"}),D=function(e){window.confirm("Do you want to delete this project?")&&(d(function(e){return function(t,a){O.a.delete("/api/delete/".concat(e),E(a)).then((function(a){t({type:I,payload:e})})).catch((function(e){return console.log(e)}))}}(e)),alert("Project has been deleted!"),w.push("/projects"))},k=a.toLocaleString(),T=c.toLocaleString();return Object(ee.jsxs)("div",{className:"container",style:{margin:15},children:[Object(ee.jsxs)("div",{className:"row align-items-center",children:[Object(ee.jsx)("div",{className:"col"}),Object(ee.jsx)("div",{className:"col-6",children:Object(ee.jsxs)("div",{className:"card text-center bg-light",children:[Object(ee.jsx)("div",{className:"card-header",children:{0:"New",1:"Kickoff meeting",2:"Ongoing",3:"Last fixes",4:"Finished"}[r]}),Object(ee.jsxs)("div",{className:"card-body",children:[Object(ee.jsx)("h5",{className:"card-title",children:t}),Object(ee.jsxs)("div",{className:"card-text",children:[s,Object(ee.jsx)("br",{}),"Author: ",x,Object(ee.jsx)("br",{}),"Co-workers: ",f,Object(ee.jsx)("br",{}),C,Object(ee.jsx)("button",{style:{margin:10},className:"btn btn-danger",onClick:function(){return D(o)},children:"Delete"}),Object(ee.jsx)(ae,{})]}),Object(ee.jsx)("p",{children:"You can edit or delete only your own projects"})]}),Object(ee.jsxs)("div",{className:"card-footer text-muted",children:["Duration from ",k," to ",T,"."]})]})}),Object(ee.jsx)("div",{className:"col"})]}),Object(ee.jsx)(re,{projectID:o}),Object(ee.jsx)(ce,{id:o})]})},ie=function(e){var t=Object(j.h)().state.id,a=Object(u.d)((function(e){return e.projects})).filter((function(e){return e.id===t})).map((function(e){return Object(ee.jsx)(se,Object(B.a)({},e),e.id)}));return Object(ee.jsx)("div",{className:"card",style:{margin:15},children:Object(ee.jsx)("div",{className:"card-body",children:Object(ee.jsx)("ul",{children:a})})})},oe=function(e){var t=e.project_name,a=(e.start_date,e.end_date),n=e.status,c=e.id,r=a.toLocaleString();return Object(ee.jsxs)("tr",{children:[Object(ee.jsx)("th",{scope:"row",children:{0:"New",1:"Kickoff meeting",2:"Ongoing",3:"Last fixes",4:"Finished"}[n]}),Object(ee.jsx)("td",{children:t}),Object(ee.jsx)("td",{children:r}),Object(ee.jsx)("td",{children:Object(ee.jsx)("button",{className:"btn btn-light",children:Object(ee.jsx)(d.c,{style:{textDecoration:"none",visited:"none"},to:{pathname:"/details",state:{id:c}},children:"Click here to see project details"})})})]})},le=function(){var e=Object(u.c)(),t=Object(u.d)((function(e){return e.projects})),a=Object(u.d)((function(e){return e.users}));Object(n.useEffect)((function(){e(U())}),[]),Object(n.useEffect)((function(){e(W())}),[]);var c=t.sort((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.id-e.id})).map((function(e){return Object(ee.jsx)(oe,Object(B.a)(Object(B.a)({},e),a),e.id)}));return Object(ee.jsx)("div",{className:"card",style:{margin:15},children:Object(ee.jsx)("div",{className:"card-body bg-light",children:c.length?Object(ee.jsxs)("table",{className:"table table-hover",children:[Object(ee.jsx)("thead",{children:Object(ee.jsxs)("tr",{className:"fs-4",children:[Object(ee.jsx)("th",{scope:"col",children:"#"}),Object(ee.jsx)("th",{scope:"col",children:"Project name"}),Object(ee.jsx)("th",{scope:"col",children:"Deadline"}),Object(ee.jsx)("th",{scope:"col"})]})}),Object(ee.jsx)("tbody",{className:"fs-5",children:c})]}):"There is no projects"})})},de=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.auth.user,t=e.sex?{1:"Male",2:"Female"}[e.sex]:" no data",a=e.age?e.age:" no data",n=e.phone?e.phone:" no data";return Object(ee.jsx)("div",{className:"container",style:{maxWidth:400,alignContent:"center"},children:Object(ee.jsxs)("div",{className:"card",style:{margin:15},children:[Object(ee.jsxs)("div",{className:"card-header",style:{backgroundColor:"navy",color:"white"},children:[e.first_name," ",e.last_name]}),Object(ee.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(ee.jsxs)("li",{className:"list-group-item",children:["Email: ",e.email]}),Object(ee.jsxs)("li",{className:"list-group-item",children:["Sex: ",t,", age: ",a,", phone number ",n]}),Object(ee.jsx)("li",{className:"list-group-item"})]})]})})}}]),a}(n.Component),je=Object(u.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,auth:e.auth}}),{})(de),ue=function(){return Object(ee.jsx)(n.Fragment,{children:Object(ee.jsxs)(j.d,{children:[Object(ee.jsx)(j.b,{exact:!0,path:"/",component:le}),Object(ee.jsx)(j.b,{exact:!0,path:"/add_or_update",component:te}),Object(ee.jsx)(j.b,{exact:!0,path:"/details",component:ie}),Object(ee.jsx)(j.b,{exact:!0,path:"/projects",component:le}),Object(ee.jsx)(j.b,{exact:!0,path:"/admin",component:je})]})})},be=function(){return Object(ee.jsx)(n.Fragment,{children:Object(ee.jsx)("p",{children:"2021"})})},pe=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.auth,t=e.isAuthenticated,a=e.user,n=Object(ee.jsxs)("ul",{className:"navbar-nav ml-auto mt-2 mt-lg-0",children:[Object(ee.jsx)("span",{className:"navbar-text mr-2",style:{marginRight:5},children:Object(ee.jsx)("strong",{children:a?"Welcome ".concat(a.first_name):" "})}),Object(ee.jsx)("li",{className:"nav-item",children:Object(ee.jsx)("button",{onClick:this.props.logout,className:"nav-link btn btn-outline-light",children:"Logout"})})]}),c=Object(ee.jsxs)("ul",{className:"navbar-nav ml-auto mt-2 mt-lg-0",children:[Object(ee.jsx)("li",{className:"nav-item",children:Object(ee.jsx)(d.b,{to:"/register",className:"nav-link",children:"Register"})}),Object(ee.jsx)("li",{className:"nav-item",children:Object(ee.jsx)(d.b,{to:"/login",className:"nav-link",children:"Login"})})]});return Object(ee.jsx)("nav",{className:"navbar navbar-expand-sm navbar-dark",style:{backgroundColor:"navy",marginTop:5},children:Object(ee.jsxs)("div",{className:"container",children:[Object(ee.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo01","aria-controls":"navbarTogglerDemo01","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(ee.jsx)("span",{className:"navbar-toggler-icon"})}),Object(ee.jsx)("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo01",children:Object(ee.jsx)("a",{className:"navbar-brand",href:"/",children:"Project Management Panel"})}),t?n:c]})})}}]),a}(n.Component),he=Object(u.b)((function(e){return{auth:e.auth}}),{logout:function(){return function(e,t){O.a.post("/users/auth/logout",null,E(t)).then((function(t){e({type:"CLEAR_LEADS"}),e({type:N})})).catch((function(e){console.log(e)}))}}})(pe),me=(a(74),[{name:"projects",path:"/projects"},{name:"add new project",path:"/add_or_update"},{name:"User details",path:"/admin"}]),Oe=function(){var e=me.map((function(e){return Object(ee.jsx)("li",{children:Object(ee.jsx)(d.c,{to:e.path,exact:!!e.exact&&e.exact,children:e.name})},e.name)}));return Object(ee.jsx)("div",{className:"card",style:{margin:15},children:Object(ee.jsx)("div",{className:"card-body",children:Object(ee.jsx)("nav",{className:"main",children:Object(ee.jsx)("ul",{children:e})})})})},fe=a(41),xe=["component","auth"],ge=Object(u.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=Object(fe.a)(e,xe);return Object(ee.jsx)(j.b,Object(B.a)(Object(B.a)({},n),{},{render:function(e){return a.isLoading?Object(ee.jsx)("h2",{children:"Loading..."}):a.isAuthenticated?Object(ee.jsx)(t,Object(B.a)({},e)):Object(ee.jsx)(j.a,{to:"/login"})}}))})),ve=(a(75),a(19)),ye=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={email:"",password:"",password2:"",first_name:"",last_name:"",age:"",sex:"",phone:""},e.onSubmit=function(t){t.preventDefault();var a=e.state,n=a.email,c=a.password,r=a.password2,s=a.first_name,i=a.last_name,o=a.age,l=a.sex,d=a.phone;if(c!==r)alert("Passwords do not match");else{var j={email:n,password:c,first_name:s,last_name:i,sex:Number(l),age:Number(o),phone:d};e.props.register(j),console.log(j)}},e.onChange=function(t){e.setState(Object(ve.a)({},t.target.name,t.target.value))},e}return Object(i.a)(a,[{key:"render",value:function(){if(this.props.isAuthenticated)return Object(ee.jsx)(j.a,{to:"/"});var e=this.state,t=e.email,a=e.password,n=e.password2,c=e.first_name,r=e.last_name,s=e.age,i=e.sex,o=e.phone;return Object(ee.jsx)("div",{className:"container",style:{maxWidth:400,alignContent:"center",textAlign:"center"},children:Object(ee.jsxs)("div",{className:"card card-body mt-5",children:[Object(ee.jsx)("h2",{className:"text-center",children:"Register"}),Object(ee.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(ee.jsxs)("div",{className:"form-group",children:[Object(ee.jsx)("label",{children:"Email adress"}),Object(ee.jsx)("input",{type:"email",className:"form-control",name:"email",onChange:this.onChange,value:t})]}),Object(ee.jsxs)("div",{className:"form-group",children:[Object(ee.jsx)("label",{children:"First name"}),Object(ee.jsx)("input",{type:"text",className:"form-control",name:"first_name",onChange:this.onChange,value:c})]}),Object(ee.jsxs)("div",{className:"form-group",children:[Object(ee.jsx)("label",{children:"Password"}),Object(ee.jsx)("input",{type:"password",className:"form-control",name:"password",onChange:this.onChange,value:a})]}),Object(ee.jsxs)("div",{className:"form-group",children:[Object(ee.jsx)("label",{children:"Confirm Password"}),Object(ee.jsx)("input",{type:"password",className:"form-control",name:"password2",onChange:this.onChange,value:n})]}),Object(ee.jsx)("br",{}),Object(ee.jsx)("br",{}),Object(ee.jsx)("p",{style:{fontStyle:"italic"},children:"optional data below"}),Object(ee.jsx)("hr",{}),Object(ee.jsxs)("div",{className:"form-group",children:[Object(ee.jsx)("label",{children:"Last name"}),Object(ee.jsx)("input",{type:"text",className:"form-control",name:"last_name",onChange:this.onChange,value:r})]}),Object(ee.jsxs)("div",{className:"form-group",children:[Object(ee.jsx)("label",{children:"Age"}),Object(ee.jsx)("input",{type:"number",className:"form-control",name:"age",onChange:this.onChange,value:s})]}),Object(ee.jsxs)("div",{className:"form-group",children:[Object(ee.jsx)("label",{children:"Sex"}),Object(ee.jsxs)("select",{className:"form-control",name:"sex",onChange:this.onChange,value:i,children:[Object(ee.jsx)("option",{value:"0",children:"Choose.."}),Object(ee.jsx)("option",{value:"1",children:"Male"}),Object(ee.jsx)("option",{value:"2",children:"Female"})]})]}),Object(ee.jsxs)("div",{className:"form-group",children:[Object(ee.jsx)("label",{children:"Phone"}),Object(ee.jsx)("input",{type:"tel",className:"form-control",name:"phone",onChange:this.onChange,value:o,pattern:"[0-9]{3}-[0-9]{3}-[0-9]{3}",placeholder:"123-456-789"})]}),Object(ee.jsx)("div",{className:"form-group",children:Object(ee.jsx)("button",{type:"submit",className:"btn btn-primary",style:{margin:5},children:"Register"})}),Object(ee.jsxs)("p",{children:["Already have an account? ",Object(ee.jsx)(d.b,{to:"/login",children:"Login"})]})]})]})})}}]),a}(n.Component),Ne=Object(u.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{register:function(e){var t=e.email,a=e.password,n=e.first_name,c=e.last_name,r=e.age,s=e.sex,i=e.phone;return function(e){var o=JSON.stringify({email:t,password:a,first_name:n,last_name:c,age:r,sex:s,phone:i});console.log(o),O.a.post("/users/auth/register",o,{headers:{"Content-Type":"application/json"}}).then((function(t){e({type:_,payload:t.data})})).catch((function(t){console.log(t),e({type:w})}))}}})(ye),_e=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={email:"",password:""},e.onSubmit=function(t){t.preventDefault(),e.props.login(e.state.email,e.state.password)},e.onChange=function(t){return e.setState(Object(ve.a)({},t.target.name,t.target.value))},e}return Object(i.a)(a,[{key:"render",value:function(){if(this.props.isAuthenticated)return Object(ee.jsx)(j.a,{to:"/"});var e=this.state,t=e.email,a=e.password;return Object(ee.jsx)("div",{className:"container",style:{maxWidth:400,alignContent:"center"},children:Object(ee.jsxs)("div",{className:"card card-body mt-5",children:[Object(ee.jsx)("h2",{className:"text-center",children:"Login"}),Object(ee.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(ee.jsxs)("div",{className:"form-group",children:[Object(ee.jsx)("label",{children:"Email adress"}),Object(ee.jsx)("input",{type:"email",className:"form-control",name:"email",onChange:this.onChange,value:t})]}),Object(ee.jsxs)("div",{className:"form-group",children:[Object(ee.jsx)("label",{children:"Password"}),Object(ee.jsx)("input",{type:"password",className:"form-control",name:"password",onChange:this.onChange,value:a})]}),Object(ee.jsx)("div",{className:"form-group",children:Object(ee.jsx)("button",{type:"submit",className:"btn btn-primary",style:{margin:5},children:"Login"})}),Object(ee.jsxs)("p",{children:["Don't have an account? ",Object(ee.jsx)(d.b,{to:"/register",children:"Register"})]})]})]})})}}]),a}(n.Component),we=Object(u.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:function(e,t){return function(a){var n=JSON.stringify({email:e,password:t});O.a.post("/users/auth/login",n,{headers:{"Content-Type":"application/json"}}).then((function(e){a({type:v,payload:e.data})})).catch((function(e){a({type:y})}))}}})(_e),Ee=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){Y.dispatch((function(e,t){e({type:x}),O.a.get("/users/auth/user",E(t)).then((function(t){e({type:f,payload:t.data})})).catch((function(t){e({type:g})}))}))}},{key:"render",value:function(){return Object(ee.jsx)(u.a,{store:Y,children:Object(ee.jsx)("div",{className:"App",children:Object(ee.jsx)(d.a,{children:Object(ee.jsxs)("div",{className:"app",children:[Object(ee.jsx)("header",{children:Object(ee.jsx)(he,{})}),Object(ee.jsxs)("main",{children:[Object(ee.jsx)("aside",{children:Object(ee.jsx)(Oe,{})}),Object(ee.jsx)("section",{className:"page",children:Object(ee.jsxs)(j.d,{children:[Object(ee.jsx)(j.b,{exact:!0,path:"/register",component:Ne}),Object(ee.jsx)(j.b,{exact:!0,path:"/login",component:we}),Object(ee.jsx)(ge,{component:ue})]})})]}),Object(ee.jsx)("footer",{children:Object(ee.jsx)(be,{})})]})})})})}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(76);r.a.render(Object(ee.jsx)(Ee,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[77,1,2]]]);
//# sourceMappingURL=main.cbdb8a9c.chunk.js.map